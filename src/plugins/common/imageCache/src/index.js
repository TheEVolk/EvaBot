export default class {
  async get (code, generator, ...args) {
    const source = typeof generator === 'function'
      ? generator(...args)
      : generator

    const uploaded = await this.henta.vk.upload.messagePhoto({ source })
    await redisPlugin.set(`images:pet:${type}:${name}:${variety}`, uploaded.toString())

    return uploaded.toString()
  }
}
// BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH 
// BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH 
// BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH 
// BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH 
// BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH 
// BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH 
// BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH BRUH 
// У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО
// BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH
// У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH
// BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH
// У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH У АИСТА МОРОСИТ КРЫША ОН ВЬЁТ ГНЕЗДО ОО BRUH